<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<title>Regexp Delimiters</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>

<h1>Regexp Delimiters</h1>

<p>Perl lets you use almost anything as a regular expression delimiter. It is usual to use punctuation of some sort, but characters that match <code>/\w/</code> can be used provided there is white space between the operator and the delimiter: <code>m X foo Xsmx</code> compiles and matches <code>'foobar'</code>. In the presence of <code>use utf8;</code> you can go wild.</p>

<p>A query on the Perl 5 Porters Mailing List (a.k.a. 'p5p') a few days ago asked for opinions about <a href="https://www.nntp.perl.org/group/perl.perl5.porters/2023/01/msg265450.html">appropriating the colon (<code>':'</code>) as a delimiter for modifiers to the regular expression operators</a>. This got me wondering about what regular expression delimiters were actually in use.</p>

<p>I scratched that itch by plowing through my local <a href="https://metacpan.org/dist/CPAN-Mini">Mini CPAN</a>, running everything that looked like Perl through <a href="https://metacpan.org/dist/PPI">PPI</a>, and checking anything that parsed to an object of the relevant class. A summary of the results is appended.

It was no surprise that <code>"/"</code> was the overwhelming favorite. The colon (<code>":"</code>) came in 13th. I was a little surprised (after I thought about it) not to see <code>"'"</code> (7th) more popular, since it does not interpolate. After all, why write <code>m/[\@\$]/</code> when you can write <code>m'[@$]'</code>?</p>

<p>You made it to the end of this post. Your prize (if you want to call it that) is the threatened list of regular expression delimiters, in decreasing order of frequency. The delimiters themselves were formatted by running them through <code>B::perlstring()</code>. I suspect most of the single-digit ones are the result of mis-parses, but believe it or not, some of the instances of <code>"\\"</code> are real regular expression delimiters.</p>

<pre>
"/"       1420735
"{"       128788
"!"       36081
"|"       23932
"#"       14893
"("       7369
"'"       5180
"["       4220
","       3376
"&lt;"       2926
"%"       2308
"\@"      1302
":"       1232
"\""      828
"."       349
"~"       313
"-"       249
";"       194
"?"       182
"="       109
"^"       59
"0"       43
"`"       35
"+"       29
")"       18
"&amp;"       17
"o"       15
"n"       14
"]"       14
"r"       13
"*"       11
"\\"      11
"\036"    8
"i"       6
"\$"      6
"\a"      6
""        5
"e"       4
"&gt;"       4
"1"       4
"8"       3
"S"       3
"6"       3
"9"       3
"_"       2
"f"       2
"a"       2
"}"       2
"g"       2
"m"       2
"5"       2
"v"       1
"q"       1
"l"       1
"I"       1
"d"       1
"M"       1
"c"       1
"s"       1
"t"       1
"H"       1
"\247"    1
"u"       1
"x"       1
</pre>

</body>
</html>
